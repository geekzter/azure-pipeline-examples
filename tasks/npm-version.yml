trigger: none
schedules:
- cron: '0 1 * * *'
  displayName: 'Nightly build (UTC)'
  always: 'true'
  branches:
    include:
    - main

jobs:
- job: ubuntuDefault
  displayName: 'Default ubuntu-latest'
  pool:
    name: 'Azure Pipelines'
    vmImage: ubuntu-latest
  steps:
  - pwsh: npm -v
    displayName: 'npm version'

- job: ubuntuOverride
  displayName: 'NodeTool@0'
  pool:
    name: 'Azure Pipelines'
    vmImage: ubuntu-latest
  steps:
  # Node.js tool installer v0
  # Finds or downloads and caches the specified version spec of Node.js and adds it to the PATH.
  - task: NodeTool@0
    inputs:
      versionSource: 'spec' # 'spec' | 'fromFile'. Required. Source of version. Default: spec.
      versionSpec: '16.x' # string. Optional. Use when versionSource = spec. Version Spec. Default: 6.x.
      #versionFilePath: # string. Optional. Use when versionSource = fromFile. Path to the .nvmrc file. 
  # # Use Node.js ecosystem v1
  # # Set up a Node.js environment and add it to the PATH, additionally providing proxy support.
  # - task: UseNode@1
  #   inputs:
  #     #version: '10.x' # string. Version. Default: 10.x.
  #     #checkLatest: false # boolean. Check for Latest Version. Default: false.
  #     #force32bit: false # boolean. Use 32 bit version on x64 agents. Default: false.
  - pwsh: npm -v
    displayName: 'npm version'
